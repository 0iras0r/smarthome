###############################################################################
# @Author:    Suresh Kalavala
# @Date:      09/14/2017
# @Package:   global_vars.yaml
# @Desc:      Global Variable File - defines a bunch of global integer 
#             variables, shows how to update the variables using service
#             The default value is optional, which defaults to 0
###############################################################################

homeassistant:
  customize:

    global_variable_int.some_number1:
      hidden: true
    global_variable_int.some_number2:
      hidden: true

# global "integer" type variables
###############################################################################
global_variable_int:

  some_number1:
    name: Some Number 1
    icon: mdi:numeric

  some_number2:
    name: Some Number 2
    value: 98765
    icon: mdi:numeric

automation:

# This is a sample automation to demonstrate use of global variable in service
###############################################################################
  - alias: Set random value everytime light state changes
    initial_state: true
    hide_entity: true
    trigger:
      platform: state
      entity_id: light.dinette
    action:
      - service: global_variable_int.set_value
        entity_id: global_variable_int.some_number1
        data_template:
          value: '{{ range(0,10000) | random | int }}'
      - service: global_variable_int.set_value
        entity_id: global_variable_int.some_number2
        data_template:
          value: '{{ range(0,10000) | random | int }}'
